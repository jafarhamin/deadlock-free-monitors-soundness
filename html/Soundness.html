<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
<link href="coqdoc.css" rel="stylesheet" type="text/css" />
<title>Soundness</title>
</head>

<body>

<div id="page">

<div id="header">
</div>

<div id="main">

<h1 class="libtitle">Library Soundness</h1>

<div class="code">
<span class="id" title="keyword">Add</span> <span class="id" title="var">LoadPath</span> "proofs".<br/>

<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.QArith.Qcanon.html#"><span class="id" title="library">Qcanon</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.ZArith.ZArith.html#"><span class="id" title="library">ZArith</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.ZArith.BinInt.html#"><span class="id" title="library">Coq.ZArith.BinInt</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Nat.html#"><span class="id" title="library">Coq.Init.Nat</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Lists.List.html#"><span class="id" title="library">List</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Sorting.Permutation.html#"><span class="id" title="library">Coq.Sorting.Permutation</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Logic.Classical_Prop.html#"><span class="id" title="library">Coq.Logic.Classical_Prop</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Logic.Classical_Pred_Type.html#"><span class="id" title="library">Coq.Logic.Classical_Pred_Type</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Util_Z.html#"><span class="id" title="library">Util_Z</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Util_list.html#"><span class="id" title="library">Util_list</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Programs.html#"><span class="id" title="library">Programs</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="Assertions.html#"><span class="id" title="library">Assertions</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="WeakestPrecondition.html#"><span class="id" title="library">WeakestPrecondition</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ProofRules.html#"><span class="id" title="library">ProofRules</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ValidityOfConfigurations.html#"><span class="id" title="library">ValidityOfConfigurations</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="ValidityOfGhostCommands.html#"><span class="id" title="library">ValidityOfGhostCommands</span></a>.<br/>
<span class="id" title="keyword">Require</span> <span class="id" title="keyword">Import</span> <a class="idref" href="RelaxedPrecedenceRelation.html#"><span class="id" title="library">RelaxedPrecedenceRelation</span></a>.<br/>

<br/>
<span class="id" title="keyword">Set Implicit Arguments</span>.<br/>

<br/>
</div>

<div class="doc">
 <font size="5"><b> Validity of Configurations </b></font>  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Theorem</span> <a name="valid_configuration_does_not_abort"><span class="id" title="lemma">valid_configuration_does_not_abort</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">sp</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> (<span class="id" title="var">VALIDK</span>: <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Programs.html#aborts"><span class="id" title="inductive">aborts</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="valid_configuration_is_not_deadlock"><span class="id" title="lemma">valid_configuration_is_not_deadlock</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">sp</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> (<span class="id" title="var">VALIDK</span>: <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>) (<span class="id" title="var">HAS_THREAD</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">id</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">id</span> <span class="id" title="var">c</span> (<span class="id" title="var">TID</span>: <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">),</span></a> <a class="idref" href="Programs.html#waiting_for"><span class="id" title="definition">waiting_for</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#fst"><span class="id" title="definition">fst</span></a> <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a>) <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="valid_configuration_reduces"><span class="id" title="lemma">valid_configuration_reduces</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">m</span> <span class="id" title="var">sp</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">VALIDK</span>: <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#m"><span class="id" title="variable">m</span></a>) <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">NOT_TERMINATED</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">id</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a0a5068f83a704fcfbda8cd473a6cfea"><span class="id" title="notation">&lt;&gt;</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Programs.html#data_race"><span class="id" title="definition">data_race</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#ba2b0e492d2b4675a0acf3ea92aabadd"><span class="id" title="notation">/\</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">t'</span> <span class="id" title="var">h'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Programs.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="initial_configuration_is_valid"><span class="id" title="lemma">initial_configuration_is_valid</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span> <span class="id" title="var">invs</span> <span class="id" title="var">sp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">WELLFORMED</span>: <a class="idref" href="Programs.html#wellformed_cmd"><span class="id" title="definition">wellformed_cmd</span></a> <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">VERIFIED</span>: <a class="idref" href="ProofRules.html#correct"><span class="id" title="definition">correct</span></a> (<a class="idref" href="Assertions.html#Aobs"><span class="id" title="constructor">Aobs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Assertions.html#Aobs"><span class="id" title="constructor">Aobs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="Soundness.html#invs"><span class="id" title="variable">invs</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">id</span>, <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> (<a class="idref" href="Util_Z.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.ZArith.BinInt.html#Z.eq_dec"><span class="id" title="definition">Z.eq_dec</span></a> (<a class="idref" href="Assertions.html#emp"><span class="id" title="definition">emp</span></a> (<a class="idref" href="Programs.html#cmd"><span class="id" title="inductive">cmd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Programs.html#context"><span class="id" title="inductive">context</span></a>)) <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Programs.html#done"><span class="id" title="constructor">done</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="Assertions.html#emp"><span class="id" title="definition">emp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>

<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Let_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Val_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Val_done_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Fork_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Newlock_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Acquire_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Acquire0_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Waiting4lock_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Release_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Newcond_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Wait_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">WasWait_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Notify_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Notify0_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Notify01_preserves_validity1</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">NotifyAll_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">SpuriousWakeup_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">nop_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Cons_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Lookup_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">Mutate_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">If_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">If1_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">If2_preserves_validity</span>.<br/>
<span class="id" title="keyword">Hint Resolve</span> <span class="id" title="var">While_preserves_validity</span>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="steps_preserve_validity"><span class="id" title="lemma">steps_preserve_validity</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">sp</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> <span class="id" title="var">t'</span> <span class="id" title="var">h'</span> <br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">VALIDK</span>: <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>) (<span class="id" title="var">STEP</span>: <a class="idref" href="Programs.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>.<br/>

<br/>
</div>

<div class="doc">
 <font size="5"><b> Soundness Proof </b></font>  
</div>
<div class="code">

<br/>
<span class="id" title="keyword">Inductive</span> <a name="safe"><span class="id" title="inductive">safe</span></a>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#nat"><span class="id" title="inductive">nat</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Programs.html#thrds"><span class="id" title="definition">thrds</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <a class="idref" href="Programs.html#heap"><span class="id" title="definition">heap</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#1c93e43e07fbeaeb6a625cb6614beb5d"><span class="id" title="notation">-&gt;</span></a> <span class="id" title="keyword">Prop</span> :=<br/>
&nbsp;&nbsp;| <a name="Base"><span class="id" title="constructor">Base</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span>, <a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#O"><span class="id" title="constructor">O</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a><br/>
&nbsp;&nbsp;| <a name="Terminated"><span class="id" title="constructor">Terminated</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> (<span class="id" title="var">TER</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">id</span>, <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#6cd0f7b28b6092304087c7049437bb1a"><span class="id" title="notation">=</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#None"><span class="id" title="constructor">None</span></a>), <a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a><br/>
&nbsp;&nbsp;| <a name="Running"><span class="id" title="constructor">Running</span></a>: <span class="id" title="keyword">forall</span> <span class="id" title="var">sp</span> <span class="id" title="var">n</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> (<span class="id" title="var">NO_RACE</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#63a68285c81db8f9bc456233bb9ed181"><span class="id" title="notation">~</span></a> <a class="idref" href="Programs.html#data_race"><span class="id" title="definition">data_race</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">REDUCES</span>: <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">exists</span></a> <span class="id" title="var">t'</span> <span class="id" title="var">h'</span><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Logic.html#a883bdd010993579f99d60b3775bcf54"><span class="id" title="notation">,</span></a> <a class="idref" href="Programs.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">SAFE</span>: <span class="id" title="keyword">forall</span> <span class="id" title="var">t'</span> <span class="id" title="var">h'</span> (<span class="id" title="var">RED</span>: <a class="idref" href="Programs.html#red"><span class="id" title="inductive">red</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>), <a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Soundness.html#t'"><span class="id" title="variable">t'</span></a> <a class="idref" href="Soundness.html#h'"><span class="id" title="variable">h'</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#S"><span class="id" title="constructor">S</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a>) <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="valid_configuration_is_safe"><span class="id" title="lemma">valid_configuration_is_safe</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">sp</span> <span class="id" title="var">t</span> <span class="id" title="var">h</span> (<span class="id" title="var">VALIDK</span>: <a class="idref" href="ValidityOfConfigurations.html#validk"><span class="id" title="definition">validk</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> <a class="idref" href="Soundness.html#t"><span class="id" title="variable">t</span></a> <a class="idref" href="Soundness.html#h"><span class="id" title="variable">h</span></a>.<br/>

<br/>
<span class="id" title="keyword">Theorem</span> <a name="verified_program_is_safe"><span class="id" title="lemma">verified_program_is_safe</span></a>:<br/>
&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">c</span> <span class="id" title="var">invs</span> <span class="id" title="var">sp</span><br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">WELLFORMED</span>: <a class="idref" href="Programs.html#wellformed_cmd"><span class="id" title="definition">wellformed_cmd</span></a> <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a>)<br/>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;(<span class="id" title="var">VERIFIED</span>: <a class="idref" href="ProofRules.html#correct"><span class="id" title="definition">correct</span></a> (<a class="idref" href="Assertions.html#Aobs"><span class="id" title="constructor">Aobs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a> (<span class="id" title="keyword">fun</span> <span class="id" title="var">_</span> =&gt; <a class="idref" href="Assertions.html#Aobs"><span class="id" title="constructor">Aobs</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#nil"><span class="id" title="constructor">nil</span></a>) <a class="idref" href="Soundness.html#invs"><span class="id" title="variable">invs</span></a> <a class="idref" href="Soundness.html#sp"><span class="id" title="variable">sp</span></a>),<br/>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="id" title="keyword">forall</span> <span class="id" title="var">n</span> <span class="id" title="var">id</span>, <a class="idref" href="Soundness.html#safe"><span class="id" title="inductive">safe</span></a> <a class="idref" href="Soundness.html#n"><span class="id" title="variable">n</span></a> (<a class="idref" href="Util_Z.html#upd"><span class="id" title="definition">upd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.ZArith.BinInt.html#Z.eq_dec"><span class="id" title="definition">Z.eq_dec</span></a> (<a class="idref" href="Assertions.html#emp"><span class="id" title="definition">emp</span></a> (<a class="idref" href="Programs.html#cmd"><span class="id" title="inductive">cmd</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#11c698c8685bb8ab1cf725545c085ac4"><span class="id" title="notation">*</span></a> <a class="idref" href="Programs.html#context"><span class="id" title="inductive">context</span></a>)) <a class="idref" href="Soundness.html#id"><span class="id" title="variable">id</span></a> (<a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#Some"><span class="id" title="constructor">Some</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">(</span></a><a class="idref" href="Soundness.html#c"><span class="id" title="variable">c</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">,</span></a><a class="idref" href="Programs.html#done"><span class="id" title="constructor">done</span></a><a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Init.Datatypes.html#e6756e10c36f149b18b4a8741ed83079"><span class="id" title="notation">)</span></a>)) (<a class="idref" href="Assertions.html#emp"><span class="id" title="definition">emp</span></a> <a class="idref" href="http://coq.inria.fr/distrib/V8.9.0/stdlib//Coq.Numbers.BinNums.html#Z"><span class="id" title="inductive">Z</span></a>).<br/>
</div>
</div>

<div id="footer">
<hr/><a href="index.html">Index</a><hr/>This page has been generated by <a href="http://coq.inria.fr/">coqdoc</a>
</div>

</div>

</body>
</html>